@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 255, 255, 255;
  --background-start-rgb: 10, 10, 15;
  --background-end-rgb: 13, 13, 20;

  /* Lattice Empire Theme - Dark (Default) */
  --lattice-void: #0a0a0f;
  --lattice-deep: #0d0d14;
  --lattice-surface: #12121a;
  --lattice-elevated: #1a1a24;
  --lattice-border: #2a2a3a;

  /* Neon Accents */
  --neon-blue: #00d4ff;
  --neon-cyan: #00fff7;
  --neon-purple: #a855f7;
  --neon-pink: #ec4899;
  --neon-green: #22c55e;
  --neon-orange: #f97316;
  --neon-yellow: #eab308;

  /* Resonance Spectrum */
  --resonance-low: #3b82f6;
  --resonance-mid: #8b5cf6;
  --resonance-high: #ec4899;
  --resonance-peak: #f43f5e;

  /* Sovereignty */
  --sovereignty-locked: #22c55e;
  --sovereignty-warning: #f59e0b;
  --sovereignty-danger: #ef4444;

  /* Status Colors */
  --status-success: #22c55e;
  --status-warning: #f59e0b;
  --status-error: #ef4444;
  --status-info: #3b82f6;

  /* Chart Colors */
  --chart-1: #00d4ff;
  --chart-2: #a855f7;
  --chart-3: #22c55e;
  --chart-4: #f97316;
  --chart-5: #ec4899;
}

/* Light Mode */
[data-theme="light"], .light {
  --foreground-rgb: 10, 10, 15;
  --background-start-rgb: 250, 250, 252;
  --background-end-rgb: 245, 245, 250;

  --lattice-void: #fafafa;
  --lattice-deep: #f5f5f7;
  --lattice-surface: #ffffff;
  --lattice-elevated: #f8f8fc;
  --lattice-border: #e5e5e8;

  --neon-blue: #0095cc;
  --neon-cyan: #00b8b0;
  --neon-purple: #7c3aed;
  --neon-pink: #db2777;
  --neon-green: #16a34a;
}

@layer base {
  body {
    @apply bg-lattice-void text-white antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  * {
    @apply border-lattice-border;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-lattice-deep;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-lattice-border rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-neon-blue/50;
  }
}

@layer components {
  /* Lens Card */
  .lens-card {
    @apply bg-lattice-surface border border-lattice-border rounded-lg p-4;
    @apply transition-all duration-200;
    @apply hover:border-neon-blue/50 hover:shadow-neon-blue;
  }

  /* Sovereignty Lock Indicator */
  .sovereignty-lock {
    @apply relative overflow-hidden;
  }

  .sovereignty-lock::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-sovereignty-locked/20 to-transparent;
    @apply pointer-events-none;
  }

  /* Resonance Glow */
  .resonance-glow {
    @apply relative;
  }

  .resonance-glow::after {
    content: '';
    @apply absolute inset-0 rounded-lg;
    @apply bg-gradient-to-r from-resonance-low/10 via-resonance-mid/10 to-resonance-high/10;
    @apply animate-resonance-wave pointer-events-none;
  }

  /* DTU Badge */
  .dtu-badge {
    @apply inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium;
    @apply bg-neon-blue/20 text-neon-blue border border-neon-blue/30;
  }

  .dtu-badge.mega {
    @apply bg-neon-purple/20 text-neon-purple border-neon-purple/30;
  }

  .dtu-badge.hyper {
    @apply bg-neon-pink/20 text-neon-pink border-neon-pink/30;
  }

  /* Neon Button */
  .btn-neon {
    @apply px-4 py-2 rounded-lg font-medium;
    @apply bg-neon-blue/10 text-neon-blue border border-neon-blue/30;
    @apply hover:bg-neon-blue/20 hover:border-neon-blue/50;
    @apply transition-all duration-200;
    @apply active:scale-95;
  }

  .btn-neon.purple {
    @apply bg-neon-purple/10 text-neon-purple border-neon-purple/30;
    @apply hover:bg-neon-purple/20 hover:border-neon-purple/50;
  }

  .btn-neon.pink {
    @apply bg-neon-pink/10 text-neon-pink border-neon-pink/30;
    @apply hover:bg-neon-pink/20 hover:border-neon-pink/50;
  }

  /* Input Field */
  .input-lattice {
    @apply w-full px-4 py-2 rounded-lg;
    @apply bg-lattice-deep border border-lattice-border;
    @apply text-white placeholder:text-gray-500;
    @apply focus:outline-none focus:border-neon-blue/50 focus:ring-1 focus:ring-neon-blue/30;
    @apply transition-all duration-200;
  }

  /* Panel */
  .panel {
    @apply bg-lattice-surface border border-lattice-border rounded-xl;
    @apply shadow-lg;
  }

  /* Graph Container */
  .graph-container {
    @apply w-full h-full min-h-[400px];
    @apply bg-lattice-deep rounded-lg border border-lattice-border;
  }

  /* 70% Lock Indicator */
  .lock-70 {
    @apply relative;
  }

  .lock-70::after {
    content: '70%';
    @apply absolute -top-1 -right-1 px-1.5 py-0.5 text-[10px] font-bold;
    @apply bg-sovereignty-locked text-white rounded;
  }
}

@layer utilities {
  /* Text Gradient */
  .text-gradient-neon {
    @apply bg-gradient-to-r from-neon-blue via-neon-cyan to-neon-purple;
    @apply bg-clip-text text-transparent;
  }

  /* Glow Effects */
  .glow-blue {
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.4);
  }

  .glow-purple {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.4);
  }

  .glow-pink {
    box-shadow: 0 0 20px rgba(236, 72, 153, 0.4);
  }

  /* Glass Effect */
  .glass {
    @apply backdrop-blur-md bg-white/5;
  }

  /* No Scrollbar */
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Theme Toggle */
  .theme-toggle {
    @apply p-2 rounded-lg cursor-pointer;
    @apply bg-lattice-surface border border-lattice-border;
    @apply hover:border-neon-blue/50 transition-all;
  }

  /* Dashboard Cards */
  .dashboard-card {
    @apply bg-lattice-surface border border-lattice-border rounded-xl p-6;
    @apply transition-all duration-200;
    @apply hover:border-neon-blue/30;
  }

  .dashboard-stat {
    @apply text-3xl font-bold text-gradient-neon;
  }

  .dashboard-label {
    @apply text-sm text-gray-400 mt-1;
  }

  /* Progress Bar */
  .progress-bar {
    @apply h-2 bg-lattice-deep rounded-full overflow-hidden;
  }

  .progress-fill {
    @apply h-full rounded-full transition-all duration-300;
  }

  /* Status Indicator */
  .status-dot {
    @apply w-2 h-2 rounded-full inline-block;
  }

  .status-dot.success { @apply bg-status-success; }
  .status-dot.warning { @apply bg-status-warning; }
  .status-dot.error { @apply bg-status-error; }
  .status-dot.info { @apply bg-status-info; }

  /* Metric Card */
  .metric-card {
    @apply bg-lattice-deep rounded-lg p-4;
    @apply border border-lattice-border;
  }

  /* Command Palette Enhancements */
  .command-item {
    @apply px-4 py-2 cursor-pointer rounded-lg;
    @apply hover:bg-neon-blue/10 transition-colors;
  }

  .command-item.selected {
    @apply bg-neon-blue/20 border-l-2 border-neon-blue;
  }

  /* Fuzzy Match Highlight */
  .fuzzy-match {
    @apply text-neon-blue font-semibold;
  }

  /* Keyboard Shortcut Badge */
  .kbd {
    @apply inline-flex items-center justify-center;
    @apply px-1.5 py-0.5 text-xs font-mono;
    @apply bg-lattice-elevated border border-lattice-border rounded;
    @apply text-gray-400;
  }

  /* Toast Notifications */
  .toast {
    @apply fixed bottom-4 right-4 p-4 rounded-lg shadow-lg;
    @apply bg-lattice-surface border border-lattice-border;
    @apply animate-slide-up;
  }

  .toast.success { @apply border-l-4 border-l-status-success; }
  .toast.error { @apply border-l-4 border-l-status-error; }
  .toast.warning { @apply border-l-4 border-l-status-warning; }
  .toast.info { @apply border-l-4 border-l-status-info; }
}

/* Animations */
@keyframes slide-up {
  from { transform: translateY(100%); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 5px var(--neon-blue); }
  50% { box-shadow: 0 0 20px var(--neon-blue); }
}

@keyframes resonance-wave {
  0% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(1.02); }
  100% { opacity: 0.3; transform: scale(1); }
}

@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-slide-up { animation: slide-up 0.3s ease-out; }
.animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
.animate-resonance-wave { animation: resonance-wave 3s ease-in-out infinite; }
.animate-spin-slow { animation: spin-slow 3s linear infinite; }

/* Page Transitions */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-in-right {
  from { opacity: 0; transform: translateX(20px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes slide-in-up {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scale-in {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

.animate-fade-in { animation: fade-in 0.3s ease-out; }
.animate-slide-in-right { animation: slide-in-right 0.3s ease-out; }
.animate-slide-in-up { animation: slide-in-up 0.3s ease-out; }
.animate-scale-in { animation: scale-in 0.2s ease-out; }

/* Stagger animations for lists */
.stagger-1 { animation-delay: 50ms; }
.stagger-2 { animation-delay: 100ms; }
.stagger-3 { animation-delay: 150ms; }
.stagger-4 { animation-delay: 200ms; }
.stagger-5 { animation-delay: 250ms; }
.stagger-6 { animation-delay: 300ms; }

/* Focus visible styles for accessibility */
:focus-visible {
  @apply outline-none ring-2 ring-neon-cyan ring-offset-2 ring-offset-lattice-void;
}

/* Better button focus */
button:focus-visible,
a:focus-visible {
  @apply outline-none ring-2 ring-neon-cyan/50 ring-offset-2 ring-offset-lattice-void;
}

/* Smooth transitions for interactive elements */
button, a, input, textarea, select {
  @apply transition-all duration-200;
}

/* Mobile touch feedback */
@media (hover: none) {
  button:active,
  a:active {
    @apply opacity-70;
  }
}

/* Improved skeleton loading */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.skeleton-shimmer {
  background: linear-gradient(
    90deg,
    var(--lattice-surface) 0%,
    var(--lattice-elevated) 50%,
    var(--lattice-surface) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

/* Safe area padding for mobile devices */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
}
